<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>NEMU PA1 菜鸡记录</title>
    <link href="/2021/09/21/NEMU_PA1/"/>
    <url>/2021/09/21/NEMU_PA1/</url>
    
    <content type="html"><![CDATA[<h1 id="闲话"><a href="#闲话" class="headerlink" title="闲话"></a><strong>闲话</strong></h1><p>NEMU是南大的一个课设，你天拿来当小学期任务，<del>端地一番折磨</del>  </p><p>本篇博客由PA1实验报告改编而来，后续可能会有必做题的过程<del>也可能没有</del>  </p><p> <del>看阿瓜的懒惰程度了</del></p><h1 id="实验进度表"><a href="#实验进度表" class="headerlink" title="实验进度表"></a><strong>实验进度表</strong></h1><table><thead><tr><th>任务序号</th><th>任务内容</th><th>完成情况</th></tr></thead><tbody><tr><td>必做任务1</td><td>实现正确的寄存器结构体</td><td>已完成</td></tr><tr><td>必做任务2</td><td>实现单步执行、打印寄存器、扫描内存</td><td>已完成</td></tr><tr><td>必做任务3</td><td>实现算术表达式的词法分析</td><td>已完成</td></tr><tr><td>必做任务4</td><td>实现算术表达式的递归求值</td><td>已完成</td></tr><tr><td>选做任务1</td><td>实现带有负数的算术表达式的求值</td><td>已完成</td></tr><tr><td>必做任务5</td><td>实现更复杂的表达式求值</td><td>已完成</td></tr><tr><td>选做任务2</td><td>实现指针解引用</td><td>已完成</td></tr><tr><td>必做任务6</td><td>实现监视点池的管理</td><td>已完成</td></tr><tr><td>必做任务7</td><td>实现监视点</td><td>已完成</td></tr></tbody></table><h1 id="必做题"><a href="#必做题" class="headerlink" title="必做题"></a><strong>必做题</strong></h1><h1 id="思考题"><a href="#思考题" class="headerlink" title="思考题"></a><strong>思考题</strong></h1><h2 id="思考题1-：opcode-table数组的类型"><a href="#思考题1-：opcode-table数组的类型" class="headerlink" title="思考题1 ：opcode_table数组的类型"></a>思考题1 ：opcode_table数组的类型</h2><ul><li>opcode_table为helper_fun类型的数组，而helper_fun类型为指向参数类型为swaddr_t且返回值类型为int的函数指针，故opcode_table为函数指针数组。  </li></ul><h2 id="思考题2"><a href="#思考题2" class="headerlink" title="思考题2"></a>思考题2</h2><h3 id="（1）要执行多久"><a href="#（1）要执行多久" class="headerlink" title="（1）要执行多久"></a>（1）要执行多久</h3><ul><li>cpu_exec函数的参数是uint32_t，即无符号整型，而传入的-1因会导致溢出而成为最大的无符号整型数，保证能够执行完输入的所有指令。  </li></ul><h3 id="（2）为什么要使用static"><a href="#（2）为什么要使用static" class="headerlink" title="（2）为什么要使用static"></a>（2）为什么要使用static</h3><ul><li><p>Q：框架代码中定义 wp_pool 等变量的时候使用了关键字 static，static 在此处的含义是什么? 为什么要在此处使用它?  </p></li><li><p>A： static表示wp_pool为静态全局变量，此处使用static是为了避免wp_pool在程序运行中被误修改。  </p></li></ul><h2 id="思考题3：读手册的方法"><a href="#思考题3：读手册的方法" class="headerlink" title="思考题3：读手册的方法"></a>思考题3：读手册的方法</h2><ol><li><ul><li>Q： EFLAGS 寄存器中的 CF 位是什么意思  </li><li>A: 在目录中检索register和flag发现2.3.4.1节和附录c有提及相关内容，查阅得：CF为进位标志，如果运算导致最高位产生进位或者借位则为1.否则为0。  </li></ul></li><li><ul><li>Q: ModR/M 字节是什么</li><li>A: 检索目录得ModR/M相关内容在17.2.1节，查阅可知ModR/M字节包括mod、reg、r/m三方面内容,分别表示索引类型或者寄存器编号、寻址模式编码等信息。  </li></ul></li><li><ul><li>Q: mov 指令的具体格式是怎么样的</li><li>A: 检索目录在12.2.2.11节内找到mov指令相关内容，查阅可知格式为DEST←SRC  </li></ul></li><li><ul><li>shell命令:<br>  find . -name “*[.h|.cpp]” | xargs wc -l<br>  使用上述命令，得代码共129281行    </li></ul></li><li><ul><li><p>Make文件：  </p><p>  -Wall 使GCC产生尽可能多的警告信息，取消编译操作，打印出编译时所有错误或警告信息。  </p><p>  -Werror 要求GCC将所有的警告当成错误进行处理，从而终止编译操作。  </p><p>  使用-Wall和-Werror就是为了找出所有存在的或者潜在的错误，优化程序。</p></li></ul></li></ol><h1 id="实验遇到的问题、思考、解决办法"><a href="#实验遇到的问题、思考、解决办法" class="headerlink" title="实验遇到的问题、思考、解决办法"></a>实验遇到的问题、思考、解决办法</h1><ul><li><p>在刚开始实验的时候，遇到“Makefile : “run”……”这种错误会不知所措，Prof Wei指点我要慢慢debug，通过Log、Assert等函数以及GDB等工具，最终解决了bug。<del>（GDB过于生疏，PA1完全靠肉眼debug）</del>  </p></li><li><p>某次在虚仿平台关机导致git文件损坏，csdn、stackoverflow搜索到的办法都未能解决问题，最终在Wei老师的帮助下通过删除然后重新绑定远程仓库解决了问题。  </p></li><li><p>打印寄存器时起初不知道如何依次打印，后来发现reg.h文件下有定义好的regsl数组和reg_l函数可以利用。  </p></li></ul><h1 id="实验心得"><a href="#实验心得" class="headerlink" title="实验心得"></a>实验心得</h1><ul><li><p> 要细读实验指导书，里面内容很详细，开始时候因为只看PPT导致忽略掉了很多细节内容。</p></li><li><p>调试程序时要善于使用gdb等工具，小型的bug可以使用Log、Assert等函数两面夹击来判断bug出现在哪里，总之对bug不要失措.</p></li><li><p>对于某任务中所用到的文件中的代码要通读一下，不求全看懂，多少知道相关函数、数组是做什么的，比如reg.h文件下的regsl数组和reg_l函数，</p></li><li><p>在.c文件中声明函数后要在.h文件中定义</p></li></ul>]]></content>
    
    
    <categories>
      
      <category>Notes</category>
      
    </categories>
    
    
    <tags>
      
      <tag>NEMU</tag>
      
    </tags>
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2021/09/21/hello-world/"/>
    <url>/2021/09/21/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>The First One</title>
    <link href="/2021/07/03/The-First-One/"/>
    <url>/2021/07/03/The-First-One/</url>
    
    <content type="html"><![CDATA[<p>这是王珣的第一篇博客，自然要题写几个大字</p><p>hello, world!  </p><p><img src="https://raw.githubusercontent.com/zcsryu2/BlogImages/main/hello_world_movie.jpg" alt="这是图片" title="hello world"><br>（划掉）</p><p><img src="https://raw.githubusercontent.com/zcsryu2/BlogImages/main/hello_world.jpg" alt="这是图片" title="hello, world"></p><p>以上</p>]]></content>
    
    
    <categories>
      
      <category>Diary</category>
      
    </categories>
    
    
    <tags>
      
      <tag>闲话</tag>
      
    </tags>
    
  </entry>
  
  
  
  
</search>
